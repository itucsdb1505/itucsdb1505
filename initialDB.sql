DROP TABLE IF EXISTS test;
DROP TABLE IF EXISTS USERS;
DROP TABLE IF EXISTS POOL;
DROP TABLE IF EXISTS PLAYERS;
DROP TABLE IF EXISTS COACHES;
DROP TABLE IF EXISTS REFEREES;
DROP TABLE IF EXISTS STATS;
DROP TABLE IF EXISTS LEAGUES;
DROP TABLE IF EXISTS MESSAGES;
DROP TABLE IF EXISTS COUNTRIES;
DROP TABLE IF EXISTS TEAMS;
DROP TABLE IF EXISTS FIXTURE;

CREATE TABLE test(num int);
CREATE TABLE USERS(ID SERIAL PRIMARY KEY, NAME TEXT, AGE INT, EMAIL CHAR(50), AUTH CHAR, COUNTRY_ID INT);
CREATE TABLE POOL(NAME TEXT, COUNTRY_ID INT, CAPACITY INT, BUILT INT,ID SERIAL PRIMARY KEY);
CREATE TABLE PLAYERS(ID SERIAL PRIMARY KEY, NAME TEXT, SURNAME TEXT, AGE INT, NATION INT, TEAM TEXT, FIELD TEXT, GOAL INT);
CREATE TABLE COACHES(ID SERIAL PRIMARY KEY, NAME TEXT, SURNAME TEXT, NATION INT, TEAM TEXT);
CREATE TABLE STATS(PLAYER_ID INT,LEAGUE_ID INT, GOAL INT, ASSIST INT,SAVE INT,ID SERIAL PRIMARY KEY);
CREATE TABLE REFEREES(ID SERIAL PRIMARY KEY, NAME TEXT, SURNAME TEXT, LEAGUE INT, CITY TEXT);
CREATE TABLE COUNTRIES(ID SERIAL PRIMARY KEY, NAME VARCHAR(50) NOT NULL, POPULATION FLOAT NOT NULL, COORDINATES FLOAT);
CREATE TABLE LEAGUES(ID SERIAL PRIMARY KEY, NAME VARCHAR(100) NOT NULL, NATION INT NOT NULL, CLASSIFICATION INT NOT NULL);
CREATE TABLE MESSAGES(ID SERIAL PRIMARY KEY, TITLE VARCHAR(100) NOT NULL, PHONE BIGINT, MAIL VARCHAR(100), MESSAGE TEXT NOT NULL);
CREATE TABLE TEAMS(NAME TEXT,ID SERIAL PRIMARY KEY);
CREATE TABLE FIXTURE(WEEKNUM INT,HOMETEAM TEXT,HOMESCORE INT,AWAYTEAM TEXT,AWAYSCORE INT,LEAGUE_ID INT);

INSERT INTO test values(1);
INSERT INTO test values(2);
INSERT INTO test values(3);
INSERT INTO test values(4);
INSERT INTO test values(5);
INSERT INTO USERS(NAME, AGE, EMAIL, AUTH, COUNTRY_ID) values('Emre EROĞLU', 28, 'emreeroglu@itu.edu.tr', 'a', 1);
INSERT INTO USERS(NAME, AGE, EMAIL, AUTH, COUNTRY_ID) values('abcd', 45, 'abcd@itu.edu.tr', 'u', 2);
INSERT INTO USERS(NAME, AGE, EMAIL, AUTH, COUNTRY_ID) values('efgh', 85, 'efgh@itu.edu.tr', 'm', 3);
INSERT INTO USERS(NAME, AGE, EMAIL, AUTH, COUNTRY_ID) values('jklm', 20, 'jklm@itu.edu.tr', 'a', 3);
INSERT INTO POOL values('Colesium',1, 25000, 1985);
INSERT INTO POOL values('Itu',1, 27500, 2010);
INSERT INTO POOL values('Yanky',2, 19000, 2004);
INSERT INTO POOL values('Surioc',2, 35000, 1995);
INSERT INTO POOL values('Haka',3, 7000, 2001);
INSERT INTO PLAYERS(NAME, SURNAME, AGE, NATION, TEAM, FIELD, GOAL) values('Adam',  'Wright',  38,  2, 'UCLA',         'Attacker',   9);
INSERT INTO PLAYERS(NAME, SURNAME, AGE, NATION, TEAM, FIELD, GOAL) values('Louis', 'Handley', 39,  2, 'California',   'Defence',    3);
INSERT INTO PLAYERS(NAME, SURNAME, AGE, NATION, TEAM, FIELD, GOAL) values('Ryan',  'Bailey',  40,  2, 'Vk Partizan',  'Attacker',   10);
INSERT INTO PLAYERS(NAME, SURNAME, AGE, NATION, TEAM, FIELD, GOAL) values('IHSAN', 'Halici',  55,  3, 'GS',           'BALLPICKER', 11);
INSERT INTO PLAYERS(NAME, SURNAME, AGE, NATION, TEAM, FIELD, GOAL) values('Emre',  'Eroglu',  48,  1, 'BJK',          'FORVET',     9);
INSERT INTO COACHES(NAME, SURNAME, NATION, TEAM) values('Matt',   'Biondi',  2,  'California');
INSERT INTO COACHES(NAME, SURNAME, NATION, TEAM) values('Sinan',  'Turunç',  1,  'TC');
INSERT INTO COACHES(NAME, SURNAME, NATION, TEAM) values('Ihsan',  'Halici',  3,  'ZonguldakSpor');
INSERT INTO COACHES(NAME, SURNAME, NATION, TEAM) values('YILMAZ', 'VURAL',   3,  'KARABUKSPOR');
INSERT INTO STATS values(1,1,30,12,0);
INSERT INTO STATS values(2,1,11,24,0);
INSERT INTO STATS values(3,2,43,15,0);
INSERT INTO STATS values(4,2,12,16,0);
INSERT INTO STATS values(5,3,2,8,6);
INSERT INTO REFEREES(NAME, SURNAME, LEAGUE, CITY) values('Cüneyt', 'Cakır', 1, 'ISTANBUL');
INSERT INTO REFEREES(NAME, SURNAME, LEAGUE, CITY) values('Adem', 'Celebi', 2, 'ISTANBUL');
INSERT INTO COUNTRIES(NAME, POPULATION, COORDINATES) values('Türkiye',30000,1);
INSERT INTO COUNTRIES(NAME, POPULATION, COORDINATES) values('Amerika',70000,3);
INSERT INTO COUNTRIES(NAME, POPULATION, COORDINATES) values('Güney Afrika',80000,5);
INSERT INTO LEAGUES(NAME, NATION, CLASSIFICATION) values('Super',1,1);
INSERT INTO LEAGUES(NAME, NATION, CLASSIFICATION) values('Second',2,2);
INSERT INTO LEAGUES(NAME, NATION, CLASSIFICATION) values('Amateur',3,3);
INSERT INTO MESSAGES(TITLE, PHONE, MAIL, MESSAGE) values('Baslik',05553337766,'emn@gmail.com','selam gençlik');
INSERT INTO MESSAGES(TITLE, MAIL, MESSAGE) values('Baslik','emn@gmail.com','selam gençlik');
INSERT INTO TEAMS VALUES('Malaga');
INSERT INTO TEAMS VALUES('RedStar');
INSERT INTO TEAMS VALUES('Brindham');
INSERT INTO TEAMS VALUES('HutHuo');
INSERT INTO TEAMS VALUES('Chingeku');
INSERT INTO TEAMS VALUES('Chley');
INSERT INTO TEAMS VALUES('Durmstad');
INSERT INTO TEAMS VALUES('Takayawa');
INSERT INTO FIXTURE VALUES(1,'Malaga',7,'RedStar',9,1);
INSERT INTO FIXTURE VALUES(1,'Brindham',7,'HutHuo',9,1);
INSERT INTO FIXTURE VALUES(1,'Chingeku',7,'Chley',9,2);
INSERT INTO FIXTURE VALUES(1,'Durmstad',7,'Takayawa',9,2);
INSERT INTO FIXTURE VALUES(2,'Malaga',7,'Brindham',9,1);
INSERT INTO FIXTURE VALUES(2,'RedStar',7,'HutHuo',9,1);
INSERT INTO FIXTURE VALUES(2,'Chingeku',7,'Durmstad',9,2);
INSERT INTO FIXTURE VALUES(2,'Chley',7,'Takayawa',9,2);

ALTER TABLE USERS ADD CONSTRAINT FK_USERS_COUNTRIES FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRIES (ID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE PLAYERS ADD CONSTRAINT FK_PLAYERS_COUNTRIES FOREIGN KEY (NATION) REFERENCES COUNTRIES (ID) ON DELETE SET NULL ON UPDATE CASCADE;
ALTER TABLE COACHES ADD CONSTRAINT FK_COACHES_COUNTRIES FOREIGN KEY (NATION) REFERENCES COUNTRIES (ID) ON DELETE SET NULL ON UPDATE CASCADE;
ALTER TABLE LEAGUES ADD CONSTRAINT FK_LEAGUES_COUNTRIES FOREIGN KEY (NATION) REFERENCES COUNTRIES (ID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE POOL ADD CONSTRAINT FK_POOL_COUNTRIES FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRIES (ID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE REFEREES ADD CONSTRAINT FK_REFEREES_LEAGUES FOREIGN KEY (LEAGUE) REFERENCES LEAGUES	  (ID) ON DELETE SET NULL ON UPDATE CASCADE;

